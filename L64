using System;
using System.Collections.Generic;

// Абстрактний клас GraphicPrimitive
public abstract class GraphicPrimitive
{
    public int X { get; set; }
    public int Y { get; set; }

    public abstract void Draw();
    public abstract void Move(int x, int y);

    // Метод для масштабування
    public virtual void Scale(float factor)
    {
        Console.WriteLine($"Scaling not implemented for {GetType().Name}");
    }
}

// Клас-спадкоємець Circle
public class Circle : GraphicPrimitive
{
    public int Radius { get; set; }

    public override void Draw()
    {
        Console.WriteLine($"Drawing Circle at ({X},{Y}) with Radius {Radius}");
    }

    public override void Move(int x, int y)
    {
        X += x;
        Y += y;
    }

    // Перевизначення методу для масштабування
    public override void Scale(float factor)
    {
        Radius = (int)(Radius * factor);
    }
}

// Клас-спадкоємець Rectangle
public class Rectangle : GraphicPrimitive
{
    public int Width { get; set; }
    public int Height { get; set; }

    public override void Draw()
    {
        Console.WriteLine($"Drawing Rectangle at ({X},{Y}) with Width {Width} and Height {Height}");
    }

    public override void Move(int x, int y)
    {
        X += x;
        Y += y;
    }

    // Перевизначення методу для масштабування
    public override void Scale(float factor)
    {
        Width = (int)(Width * factor);
        Height = (int)(Height * factor);
    }
}

// Клас-спадкоємець Triangle
public class Triangle : GraphicPrimitive
{
    public override void Draw()
    {
        Console.WriteLine($"Drawing Triangle at ({X},{Y})");
    }

    public override void Move(int x, int y)
    {
        X += x;
        Y += y;
    }
}

// Клас Group
public class Group : GraphicPrimitive
{
    private List<GraphicPrimitive> primitives = new List<GraphicPrimitive>();

    public void Add(GraphicPrimitive primitive)
    {
        primitives.Add(primitive);
    }

    public override void Draw()
    {
        Console.WriteLine($"Drawing Group at ({X},{Y})");
        foreach (var primitive in primitives)
        {
            primitive.Draw();
        }
    }

    public override void Move(int x, int y)
    {
        X += x;
        Y += y;
        foreach (var primitive in primitives)
        {
            primitive.Move(x, y);
        }
    }
}

// Клас GraphicsEditor
public class GraphicsEditor
{
    private List<GraphicPrimitive> primitives = new List<GraphicPrimitive>();

    public void AddPrimitive(GraphicPrimitive primitive)
    {
        primitives.Add(primitive);
    }

    public void DrawAll()
    {
        foreach (var primitive in primitives)
        {
            primitive.Draw();
        }
    }

    // Метод для масштабування всіх фігур
    public void ScaleAll(float factor)
    {
        foreach (var primitive in primitives)
        {
            primitive.Scale(factor);
        }
    }
}

class Program
{
    static void Main()
    {
        GraphicsEditor editor = new GraphicsEditor();

        Circle circle = new Circle { X = 10, Y = 20, Radius = 5 };
        Rectangle rectangle = new Rectangle { X = 30, Y = 40, Width = 8, Height = 12 };
        Triangle triangle = new Triangle { X = 50, Y = 60 };

        editor.AddPrimitive(circle);
        editor.AddPrimitive(rectangle);
        editor.AddPrimitive(triangle);

        Console.WriteLine("Original:");
        editor.DrawAll();

        // Масштабування всіх фігур
        editor.ScaleAll(2.0f);

        Console.WriteLine("\nAfter Scaling:");
        editor.DrawAll();

        // Переміщення групи
        Group group = new Group();
        group.Add(circle);
        group.Add(rectangle);

        editor.AddPrimitive(group);

        Console.WriteLine("\nAfter Adding Group:");
        editor.DrawAll();
    }
}
